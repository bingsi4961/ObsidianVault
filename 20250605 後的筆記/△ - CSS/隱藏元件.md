---
date: 2025-11-14 11:06
aliases:
tags:
---
# Metadata
Status :: 🌱
Note Type :: 📰
Source URL :: {文章 URL}
Author :: {作者名稱}
Topics :: {筆記跟什麼主題有關，用 `[Topic],[Topic]` 格式}

---
# 連結筆記
#### 📑 [[]]

---
## 樣式組合說明

```css
style="opacity:0; position:absolute; pointer-events:none;"
```

---
## 各屬性詳解

### 1. `opacity: 0;`

**作用:** 將元件設為完全透明

- ✅ 元件完全看不見
- ✅ 元件仍存在於 DOM 中
- ✅ 原本會佔據版面空間(需搭配 position)
- ✅ 表單元件的值仍會提交

### 2. `position: absolute;`

**作用:** 將元件從正常文件流中移除

- ✅ 不佔據原本的版面空間
- ✅ 元件會浮在其他元件上方
- ✅ 需要父層有定位(relative/absolute)才能相對定位
- ⚠️ 如果沒有設定 top/left/right/bottom,會停留在原位置

### 3. `pointer-events: none;`

**作用:** 禁用所有滑鼠互動

- ❌ 使用者無法點擊
- ❌ 使用者無法 hover
- ❌ 使用者無法直接操作元件
- ✅ 滑鼠會「穿透」到下方元件
- ✅ JavaScript 程式觸發的事件**仍然正常**

---
## 三者組合效果

|特性|狀態|
|---|---|
|視覺上可見|❌ 完全看不見|
|佔據版面空間|❌ 不佔空間|
|使用者可互動|❌ 無法互動|
|存在於 DOM|✅ 存在|
|JavaScript 可操作|✅ 可以|
|表單會提交|✅ 會提交|
|程式觸發事件|✅ 正常運作|

---
## 與其他隱藏方式比較

### `display: none;`

```css
display: none;
```

- ❌ 完全從文件流移除
- ❌ 不佔空間
- ⚠️ 某些瀏覽器可能不提交表單值
- ⚠️ 可能影響某些 JavaScript 行為

### `visibility: hidden;`

```css
visibility: hidden;
```

- ❌ 看不見
- ✅ **仍佔據版面空間**(這是主要差異)
- ❌ 無法互動
- ✅ 存在於 DOM

### `opacity: 0;` (單獨使用)

```css
opacity: 0;
```

- ❌ 看不見
- ✅ 佔據版面空間
- ✅ **仍可互動**(可以點擊!)
- ✅ 存在於 DOM

---
## 實際應用範例

### HTML 結構

```html
<select id="hiddenSelect" 
        class="stage-select-123" 
        style="opacity:0; position:absolute; pointer-events:none;">
    <option value="1">選項 1</option>
    <option value="2">選項 2</option>
    <option value="3">選項 3</option>
</select>
```

### JavaScript 操作(完全正常)

```javascript
// ✅ 程式改變值
$('#hiddenSelect').val('2');

// ✅ 程式觸發事件
$('#hiddenSelect').trigger('change');

// ✅ 綁定事件監聽
$('#hiddenSelect').on('change', function() {
    console.log('值改變:', $(this).val());
});

// ✅ 取得值
var value = $('#hiddenSelect').val();

// ✅ 表單提交時會包含此值
$('form').submit();
```

### 使用者互動(全部禁用)

```javascript
// ❌ 使用者無法點擊下拉選單
// ❌ 使用者無法 hover 顯示提示
// ❌ 滑鼠事件會穿透到下方元件
```

---
## 常見使用情境

### 1. 隱藏的輔助欄位

```html
<!-- 保留在 DOM 中供 JavaScript 操作,但使用者看不到 -->
<select class="hidden-helper" 
        style="opacity:0; position:absolute; pointer-events:none;">
</select>
```

### 2. 同步多個欄位

```javascript
// 主要 select 改變時,同步更新隱藏的 select
$('#mainSelect').on('change', function() {
    $('.hidden-helper').val($(this).val()).trigger('change');
});
```

### 3. 保留表單結構

```html
<!-- 需要提交值,但不想讓使用者看到或操作 -->
<input type="text" 
       value="auto-generated-id" 
       style="opacity:0; position:absolute; pointer-events:none;">
```

---
## 注意事項

⚠️ **accessibility(無障礙)考量:**

- 螢幕閱讀器仍可能讀取這些元件
- 如果要完全隱藏,考慮加上 `aria-hidden="true"`

⚠️ **position: absolute 的影響:**

- 需注意父層的 position 設定
- 可能需要設定 `top: -9999px;` 確保元件移出視窗

⚠️ **表單驗證:**

- 隱藏的必填欄位仍會觸發驗證
- 如需跳過驗證,考慮動態移除 `required` 屬性

---
## 建議的完整寫法

```html
<select class="stage-select-123" 
        style="opacity:0; position:absolute; top:-9999px; pointer-events:none;"
        aria-hidden="true">
    <option value="1">選項 1</option>
</select>
```

加上 `top:-9999px` 確保元件完全移出可視範圍,避免潛在的版面問題。