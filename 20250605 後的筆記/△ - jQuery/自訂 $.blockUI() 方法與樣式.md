---
date: 2025-11-05 16:19
aliases:
tags:
  - jQuery
---
# Metadata
Status :: ğŸŒ±
Note Type :: ğŸ“°
Source URL :: {æ–‡ç«  URL}
Author :: {ä½œè€…åç¨±}
Topics :: {ç­†è¨˜è·Ÿä»€éº¼ä¸»é¡Œæœ‰é—œï¼Œç”¨ `[Topic],[Topic]` æ ¼å¼}

---
# é€£çµç­†è¨˜
#### ğŸ“‘ [[]]

---

```javascript
<script src='@Url.Content("~/js/jQuery.blockUI.2.70.0.js")'></script>

// $.blockUI è¨­å®šæ¨£å¼
var BlockUI = {
    baseZ: 2000,
    messageCSS: {
        border: 'none',
        padding: '15px',
        //backgroundColor: 'transparent',   // é€æ˜èƒŒæ™¯
        backgroundColor: '#000',            // èƒŒæ™¯é»‘è‰²
        color: '#fff',
        opacity: 0.6,                       // èƒŒæ™¯è‰²é€æ˜åº¦
        borderRadius: '10px',
        fontSize: '20px'
    },
    getBlockMessage: function(text) {
        return '<div class="spinner-border text-light" role="status"></div>' + 
               '<div style="margin-top:10px;">' + text + '</div>';
    },
    show: function(message) {
        $.blockUI({
            baseZ: this.baseZ,              // è¨­å®šåŸºç¤ z-index å€¼
            message: this.getBlockMessage(message || 'è™•ç†ä¸­...'),
            css: this.messageCSS
        });
    },
    hide: function() {
        $.unblockUI();
    }
};
```

```javascript
$.ajax({
    url: '@Url.Action("BatchEditConfirm")',
    type: 'POST',
    headers: {
        'RequestVerificationToken': $('input[name="__RequestVerificationToken"]').val()
    },
    contentType: 'application/json',
    dataType: 'json',
    data: JSON.stringify(model),
    beforeSend: function() {
        BlockUI.show('å„²å­˜ä¸­...');
    },
    complete: function() {
        BlockUI.hide();
    }
})
.done(function(result) {
    if (result.status == 200) {
        ShowModal('å„²å­˜å®Œæˆ', '', function() {
            BlockUI.show('é é¢è¼‰å…¥ä¸­...');
            window.location.reload();
        });
    } else {
        ShowModal('å„²å­˜å¤±æ•—ï¼š' + result.message);
    }
})
.fail(function(xhr) {
    if (xhr.status === 200) {
        // è§£æå›å‚³ JSON æ™‚ï¼Œç™¼ç”ŸéŒ¯èª¤
        ShowModal(`ä½œæ¥­çµæŸ (HTTP ${xhr.status})ï¼Œç™¼ç”Ÿéé æœŸæ€§éŒ¯èª¤ï¼›è«‹å…ˆç¢ºèªè³‡æ–™å„²å­˜ç‹€æ…‹ï¼Œä¸¦é€šçŸ¥ç³»çµ±äººå“¡ã€‚`);
    } else {
        ShowModal(`ä½œæ¥­å¤±æ•— (HTTP ${xhr.status})ï¼Œç™¼ç”Ÿéé æœŸæ€§éŒ¯èª¤ï¼Œè«‹é€šçŸ¥ç³»çµ±äººå“¡ã€‚`);
    }
})
.always(function() {
    console.log('è«‹æ±‚çµæŸ');
});
```