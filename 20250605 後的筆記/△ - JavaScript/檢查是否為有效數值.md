---
date: 2026-01-04 16:26
aliases:
tags:
  - JavaScript
---
# Metadata
Status :: ğŸŒ±
Note Type :: ğŸ“°
Source URL :: {æ–‡ç«  URL}
Author :: {ä½œè€…åç¨±}
Topics :: {ç­†è¨˜è·Ÿä»€éº¼ä¸»é¡Œæœ‰é—œï¼Œç”¨ `[Topic],[Topic]` æ ¼å¼}

---
# é€£çµç­†è¨˜
#### ğŸ“‘ [[]]

---

```javascript
function isValidNumber(val, options = {}) {
    
    // 1. è¨­å®šé è¨­å€¼
    const notNegative = options.notNegative || false;
    const integerOnly = options.integerOnly || false;
    const strictType = options.strictType || false;

    // 2. åŸºæœ¬å‹åˆ¥æ’é™¤ (null, undefined, boolean)
    if (val === null || val === undefined || typeof val === 'boolean') {
        return false;
    }

    // 3. å­—ä¸²å‰è™•ç†
    if (typeof val === 'string') {
        if (strictType) return false; // å¦‚æœè¦æ±‚åš´æ ¼å‹åˆ¥ï¼Œå­—ä¸²ç›´æ¥ç„¡æ•ˆ
        if (val.trim() === '') return false; // æ’é™¤ç©ºå­—ä¸²
    }

    // 4. è½‰æ›ç‚ºæ•¸å€¼ä¸¦æª¢æŸ¥æœ‰æ•ˆæ€§ (æ’é™¤ NaN, Infinity)
    const num = Number(val);
    if (!Number.isFinite(num)) {
        return false;
    }

    // 5. æ ¹æ“šåƒæ•¸åŸ·è¡Œé‚è¼¯æª¢æŸ¥
    if (notNegative && num < 0) {
        return false;
    }

    if (integerOnly && !Number.isInteger(num)) {
        return false;
    }

    return true;
}
```

options = {}
ç•¶ä½ å‘¼å« function æ²’å‚³ç¬¬äºŒå€‹åƒæ•¸æ™‚ï¼Œ`options` æœƒè‡ªå‹•è®Šæˆä¸€å€‹ç©ºç‰©ä»¶ `{}`ï¼Œ
é€™æ¨£ç¨‹å¼ç¢¼åœ¨è®€å– `options.notNegative` æ™‚ï¼Œå°±ä¸æœƒå› ç‚ºè®€å– `undefined` è€Œå ±éŒ¯ã€‚

 `Number.isFinite()` æœƒåŒæ™‚æª¢æŸ¥ï¼š
- æ˜¯å¦ç‚º `NaN`
- æ˜¯å¦ç‚ºæœ‰é™æ•¸å€¼ï¼ˆæ’é™¤ `Infinity` å’Œ `-Infinity`ï¼‰

---
## åƒæ•¸èªªæ˜

| åƒæ•¸                    | å‹åˆ¥      | é è¨­å€¼   | èªªæ˜                                 |
| --------------------- | ------- | ----- | ---------------------------------- |
| `val`                 | any     | -     | è¦æª¢æŸ¥çš„åŸå§‹å€¼                            |
| `options.notNegative` | boolean | false | æ˜¯å¦ä¸å¯ç‚ºè² æ•¸ï¼ˆâ‰¥ 0ï¼‰                       |
| `options.integerOnly` | boolean | false | æ˜¯å¦å¿…é ˆç‚ºæ•´æ•¸ï¼ˆç„¡å°æ•¸é»ï¼‰                      |
| `options.strictType`  | boolean | false | æ˜¯å¦å¿…é ˆç‚ºçœŸæ­£çš„ number å‹åˆ¥ï¼ˆä¸æ¥å—å­—ä¸²æ•¸å­—å¦‚ "123"ï¼‰ |

---
## æ¸¬è©¦æ¡ˆä¾‹èˆ‡çµæœ

| è¼¸å…¥å€¼ (val)        | é è¨­æª¢æŸ¥(ä¸‰é …æª¢æŸ¥ç‚º False) | notNegative: true | integerOnly: true | strictType: true |
| ---------------- | ----------------- | ----------------- | ----------------- | ---------------- |
| `123`            | âœ… true            | âœ… true            | âœ… true            | âœ… true           |
| `0`              | âœ… true            | âœ… true            | âœ… true            | âœ… true           |
| `-5`             | âœ… true            | âŒ false           | âœ… true            | âœ… true           |
| `12.34`          | âœ… true            | âœ… true            | âŒ false           | âœ… true           |
| `"123"`          | âœ… true            | âœ… true            | âœ… true            | âŒ false          |
| `"123.4"`        | âœ… true            | âœ… true            | âŒ false           | âŒ false          |
| `"-5"`           | âœ… true            | âŒ false           | âœ… true            | âŒ false          |
| `""` (ç©ºå­—ä¸²)       | âŒ false           | âŒ false           | âŒ false           | âŒ false          |
| `"   "` (ç©ºç™½)     | âŒ false           | âŒ false           | âŒ false           | âŒ false          |
| `null`           | âŒ false           | âŒ false           | âŒ false           | âŒ false          |
| `undefined`      | âŒ false           | âŒ false           | âŒ false           | âŒ false          |
| `NaN`            | âŒ false           | âŒ false           | âŒ false           | âŒ false          |
| `true` / `false` | âŒ false           | âŒ false           | âŒ false           | âŒ false          |
| `Infinity`       | âŒ false           | âŒ false           | âŒ false           | âŒ false          |

---
## å‘¼å«æ–¹å¼ç¯„ä¾‹

### 1. æœ€ç°¡å–®çš„æª¢æŸ¥

åªæª¢æŸ¥æ˜¯å¦ç‚ºæœ‰æ•ˆæ•¸å­—ï¼Œæœƒæ’é™¤æ‰ `NaN`ã€`null`ã€`undefined`ã€‚

```javascript
isValidNumber(123);        // true
isValidNumber("45.6");     // true
isValidNumber(null);       // false
isValidNumber(undefined);  // false
isValidNumber(NaN);        // false
```

### 2. æª¢æŸ¥æ˜¯å¦ç‚ºå¤§æ–¼ 0 çš„æ•´æ•¸

é©ç”¨æ–¼è™•ç†ã€Œæ•¸é‡ã€æ¬„ä½ï¼Œä¾‹å¦‚è³¼è²·æ•¸é‡ã€åº«å­˜é‡ã€‚

```javascript
isValidNumber(10, { notNegative: true, integerOnly: true }); // true 
isValidNumber(0, { notNegative: true, integerOnly: true }); // true 
isValidNumber(-5, { notNegative: true, integerOnly: true }); // false
```

### 3. æª¢æŸ¥é‡‘é¡ï¼ˆå¯æœ‰å°æ•¸é»ï¼Œä½†å¿…é ˆå¤§æ–¼ 0ï¼‰

```javascript
isValidNumber(50.5, { notNegative: true }); // true 
isValidNumber(0, { notNegative: true }); // true 
isValidNumber(-5, { notNegative: true }); // false
```

### 4. åš´æ ¼æ¨¡å¼ï¼ˆä¸æ¥å—å­—ä¸²å‹æ•¸å­—ï¼‰

ç•¶ API å›å‚³è³‡æ–™å¿…é ˆæ˜¯ Number å‹åˆ¥æ™‚ä½¿ç”¨ã€‚

```javascript
isValidNumber("123", { strictType: true }); // false (å› ç‚ºå®ƒæ˜¯å­—ä¸²)
isValidNumber(123, { strictType: true });   // true
```