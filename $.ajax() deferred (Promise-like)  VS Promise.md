---
date: 2025-07-07 10:48
aliases: 
tags:
  - jQuery
  - AJAX
  - JavaScript
  - Promise
---
# Metadata
Status :: ğŸŒ±
Note Type :: ğŸ“°
Source URL :: {æ–‡ç«  URL}
Author :: {ä½œè€…åç¨±}
Topics :: {ç­†è¨˜è·Ÿä»€éº¼ä¸»é¡Œæœ‰é—œï¼Œç”¨ `[Topic],[Topic]` æ ¼å¼}

---

#### ğŸ“‘ [[HttpResponse]]


## å‰è¨€

é€™ä»½ç­†è¨˜è©³ç´°è¨˜éŒ„äº† `$.ajax().done().fail()` èˆ‡ `Promise.then().catch()` çš„å·®ç•°ï¼Œç‰¹åˆ¥æ˜¯åœ¨éŒ¯èª¤è™•ç†æ©Ÿåˆ¶ä¸Šçš„é‡è¦å€åˆ¥ã€‚

## ç¬¬ä¸€ç« ï¼šç‰©ä»¶å‹æ…‹èˆ‡åŸºç¤æ¦‚å¿µ

### $.ajax() å›å‚³çš„ç‰©ä»¶å‹æ…‹

`$.ajax()` å›å‚³çš„æ˜¯ **jQuery Deferred ç‰©ä»¶**ï¼Œé€™æ˜¯ jQuery ç‰¹æœ‰çš„ Promise-like ç‰©ä»¶ã€‚é›–ç„¶å®ƒå¯¦ä½œäº† Promise/A+ æ¨™æº–ï¼Œä½†ä¸¦éåŸç”Ÿ JavaScript Promiseã€‚é€™å€‹ç‰©ä»¶æä¾›äº† `.done()`, `.fail()`, `.always()` ç­‰å‚³çµ±æ–¹æ³•ï¼Œä¹Ÿæ”¯æ´ `.then()`, `.catch()`, `.finally()` ç­‰ç¾ä»£ Promise æ–¹æ³•ã€‚

ç†è§£é€™å€‹é›™é‡æ€§è³ªå¾ˆé‡è¦ï¼Œå› ç‚ºå‚³çµ±æ–¹æ³•å’Œç¾ä»£æ–¹æ³•åœ¨è³‡æ–™è™•ç†ä¸Šæœ‰æ ¹æœ¬æ€§çš„å·®ç•°ã€‚å‚³çµ±æ–¹æ³•æ¡ç”¨çš„æ˜¯ã€Œè§€å¯Ÿè€…æ¨¡å¼ã€ï¼Œè€Œç¾ä»£æ–¹æ³•æ¡ç”¨çš„æ˜¯ã€Œéˆå¼å‚³éæ¨¡å¼ã€ã€‚

### Promise å›å‚³çš„ç‰©ä»¶å‹æ…‹

åŸç”Ÿ JavaScript Promise æ˜¯ ES6 æ¨™æº–çš„ Promise ç‰©ä»¶ï¼Œæä¾› `.then()`, `.catch()`, `.finally()` ç­‰æ–¹æ³•ã€‚é€™æ˜¯ç¾ä»£ JavaScript çš„æ¨™æº–ç•°æ­¥è™•ç†æ–¹å¼ã€‚
Promise çš„è¨­è¨ˆå“²å­¸æ˜¯ç´”ç²¹çš„éˆå¼å‚³éï¼Œæ¯å€‹ `.then()` éƒ½æœƒå›å‚³ä¸€å€‹æ–°çš„ Promiseï¼Œå½¢æˆæ¸…æ™°çš„è³‡æ–™æµå‘ã€‚

## ç¬¬äºŒç« ï¼šæ–¹æ³•åƒæ•¸èˆ‡è³‡æ–™å‹æ…‹

### jQuery å‚³çµ±æ–¹æ³•çš„åƒæ•¸çµæ§‹

**done() æ–¹æ³•çš„åƒæ•¸ï¼š**

```javascript
$.ajax('/api/data')
.done(function(data, textStatus, jqXHR) {
    // data: ä¼ºæœå™¨å›å‚³çš„è³‡æ–™ï¼ˆå·²è§£æï¼Œå¦‚ JSON ç‰©ä»¶ï¼‰
    // textStatus: å­—ä¸²ï¼Œå¦‚ "success"
    // jqXHR: jQuery XMLHttpRequest ç‰©ä»¶
});
```

**fail() æ–¹æ³•çš„åƒæ•¸ï¼š**

```javascript
$.ajax('/api/data')
.fail(function(jqXHR, textStatus, errorThrown) {
    // jqXHR: jQuery XMLHttpRequest ç‰©ä»¶
    // textStatus: å­—ä¸²ï¼Œå¦‚ "error", "timeout", "abort"
    // errorThrown: éŒ¯èª¤è¨Šæ¯å­—ä¸²
});
```

### Promise æ–¹æ³•çš„åƒæ•¸çµæ§‹

**then() æ–¹æ³•çš„åƒæ•¸ï¼š**

```javascript
fetch('/api/data')
.then(function(response) {
	// fetch() å›å‚³ Promise<Response>
    // response: Response ç‰©ä»¶ï¼ˆéœ€è¦é€²ä¸€æ­¥è§£æï¼‰
    
    return response.json();
    // å–å¾—å›æ‡‰å…§å®¹ï¼šå¾ Response ç‰©ä»¶ä¸­è®€å– HTTP å›æ‡‰çš„ body å…§å®¹
    // è§£æ JSONï¼šå°‡å›æ‡‰å…§å®¹ï¼ˆé€šå¸¸æ˜¯ JSON å­—ä¸²ï¼‰è§£ææˆ JavaScript ç‰©ä»¶
    // å›å‚³ Promiseï¼šé€™æ˜¯ä¸€å€‹éåŒæ­¥æ“ä½œï¼Œæ‰€ä»¥å›å‚³ Promise
})
.then(function(data) {
    // data: è§£æå¾Œçš„è³‡æ–™
});
```

**catch() æ–¹æ³•çš„åƒæ•¸ï¼š**

```javascript
Promise.reject(new Error('éŒ¯èª¤'))
.catch(function(error) {
    // error: Error ç‰©ä»¶æˆ–ä»»ä½•è¢« reject çš„å€¼
});
```

## ç¬¬ä¸‰ç« ï¼šè³‡æ–™å‚³éæ©Ÿåˆ¶çš„é‡è¦å·®ç•°

### done() çš„ç›´æ¥å‚³éæ©Ÿåˆ¶

jQuery çš„ `done()` æ–¹æ³•æ¡ç”¨ç›´æ¥å‚³éæ©Ÿåˆ¶ï¼Œä¸æœƒè‡ªå‹•è§£æ Promise ç‰©ä»¶ï¼š

```javascript
$.ajax('/api/data')
.done(function(data) {
    console.log('ç¬¬ä¸€å€‹ done:', data); // åŸå§‹ AJAX å›æ‡‰è³‡æ–™
    return Promise.resolve('done å›å‚³çš„ Promise');
})
.done(function(result) {
    console.log('ç¬¬äºŒå€‹ done:', result); // æ¥æ”¶åˆ° Promise ç‰©ä»¶æœ¬èº«
    console.log('æ˜¯å¦ç‚º Promise:', result instanceof Promise); // true
});
```

é€™å€‹æ©Ÿåˆ¶çš„ç‰¹é»æ˜¯æ¯å€‹ `done()` ç›´æ¥æ¥æ”¶ä¸Šä¸€å€‹ `done()` çš„å›å‚³å€¼ï¼Œç„¡è«–æ˜¯ä¸€èˆ¬å€¼é‚„æ˜¯ Promise ç‰©ä»¶ã€‚

### then() çš„è‡ªå‹•è§£ææ©Ÿåˆ¶

jQuery çš„ `then()` æ–¹æ³•æœƒè‡ªå‹•è§£æ Promise ç‰©ä»¶ï¼š

```javascript
$.ajax('/api/data')
.done(function(data) {
    return Promise.resolve('è§£ææˆ‘');
})
.then(function(result) {
    console.log('then æ¥æ”¶åˆ°:', result); // 'è§£ææˆ‘'ï¼ˆå·²è§£æï¼‰
    console.log('è³‡æ–™å‹æ…‹:', typeof result); // 'string'
});
```

é€™å€‹æ©Ÿåˆ¶ç¢ºä¿äº† `then()` ç¸½æ˜¯æ¥æ”¶åˆ°è§£æå¾Œçš„å€¼ï¼Œè€Œä¸æ˜¯ Promise ç‰©ä»¶æœ¬èº«ã€‚

## ç¬¬å››ç« ï¼šéŒ¯èª¤è™•ç†çš„é—œéµå·®ç•°

### fail() æ–¹æ³•çš„ç‰¹æ®Šæ€§è³ª

é€™æ˜¯æœ€é‡è¦çš„ç™¼ç¾ï¼š**fail() çš„å›å‚³å€¼ä¸æœƒæ”¹è®Š Promise éˆçš„ç‹€æ…‹**ã€‚é€™æ˜¯ jQuery Deferred èˆ‡åŸç”Ÿ Promise æœ€å¤§çš„å·®ç•°ä¹‹ä¸€ã€‚

```javascript
$.ajax('/nonexistent-endpoint') // ç”¢ç”Ÿ 404 éŒ¯èª¤
.fail(function(jqXHR, textStatus, errorThrown) {
    console.log('fail åŸ·è¡Œ:', textStatus); // æœƒé¡¯ç¤º "error"
    return { handled: true, data: 'å˜—è©¦æ¢å¾©çš„å€¼' }; // é€™å€‹å›å‚³å€¼ç„¡æ•ˆ
})
.then(function(result) {
    console.log('then ä¸æœƒåŸ·è¡Œ'); // ç¢ºå¯¦ä¸æœƒåŸ·è¡Œ
})
.catch(function(error) {
    console.log('catch æœƒåŸ·è¡Œ'); // æœƒæ¥æ”¶åŸå§‹çš„ AJAX éŒ¯èª¤
});
```

### catch() æ–¹æ³•çš„æ¢å¾©èƒ½åŠ›

ç›¸å°åœ°ï¼Œ`catch()` æ–¹æ³•å¯ä»¥é€éå›å‚³å€¼ä¾†æ¢å¾© Promise éˆçš„ç‹€æ…‹ï¼š

```javascript
$.ajax('/nonexistent-endpoint')
.catch(function(error) {
    console.log('catch è™•ç†éŒ¯èª¤:', error);
    return { handled: true, data: 'æ¢å¾©å€¼' }; // é€™å€‹å›å‚³å€¼æœ‰æ•ˆ
})
.then(function(result) {
    console.log('then æœƒåŸ·è¡Œ:', result); // æœƒé¡¯ç¤ºæ¢å¾©çš„å€¼
});
```

### then() éŒ¯èª¤å›èª¿çš„æ¢å¾©èƒ½åŠ›

å¦‚æœè¦åœ¨ jQuery ä¸­å¯¦ç¾é¡ä¼¼ `catch()` çš„æ¢å¾©åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ `then()` çš„ç¬¬äºŒå€‹åƒæ•¸ï¼š

```javascript
$.ajax('/nonexistent-endpoint')
.then(
    function(data) {
        // æˆåŠŸå›èª¿
        console.log('æˆåŠŸ:', data);
        return data;
    },
    function(jqXHR, textStatus, errorThrown) {
        // éŒ¯èª¤å›èª¿ - é€™è£¡çš„ return å¯ä»¥æ¢å¾©ç‹€æ…‹
        console.log('éŒ¯èª¤è™•ç†:', textStatus);
        return { handled: true, data: 'é è¨­å€¼' };
    }
)
.then(function(result) {
    console.log('é€™è£¡æœƒåŸ·è¡Œ:', result); // æœƒé¡¯ç¤ºæ¢å¾©çš„å€¼
});
```

## ç¬¬äº”ç« ï¼šreturn å’Œ throw çš„åŒ…è£æ©Ÿåˆ¶

### jQuery å‚³çµ±æ–¹æ³•çš„è¡Œç‚º

`done()`, `fail()`, `always()` é€™äº›å‚³çµ±æ–¹æ³•ä¸æœƒè‡ªå‹•å°‡å›å‚³å€¼åŒ…è£æˆ Promiseï¼š

```javascript
$.ajax('/api/data')
.done(function(data) {
    return data.processed; // ç›´æ¥å›å‚³å€¼ï¼Œä¸åŒ…è£
})
.done(function(result) {
    console.log(result); // ç›´æ¥æ¥æ”¶ä¸Šä¸€å€‹ done çš„å›å‚³å€¼
});
```

### jQuery Promise æ–¹æ³•çš„è¡Œç‚º

`then()`, `catch()`, `finally()` é€™äº›æ–¹æ³•æœƒè‡ªå‹•åŒ…è£å›å‚³å€¼ï¼š

```javascript
$.ajax('/api/data')
.then(function(data) {
    return data.processed; // è‡ªå‹•åŒ…è£æˆ Promise.resolve(data.processed)
})
.then(function(result) {
    console.log(result); // æ¥æ”¶è§£æå¾Œçš„å€¼
});

// å³ä½¿æ²’æœ‰æ˜ç¢º returnï¼Œä¹ŸæœƒåŒ…è£æˆ Promise.resolve(undefined)
$.ajax('/api/data')
.then(function(data) {
    console.log(data); // æ²’æœ‰ return èªå¥
})
.then(function(result) {
    console.log(result); // undefinedï¼Œä½†ä¾†è‡ª Promise.resolve(undefined)
});
```

## ç¬¬å…­ç« ï¼šAJAX éŒ¯èª¤çš„åŸ·è¡Œæµç¨‹

### å¯¦éš›æ¸¬è©¦çµæœ

ç¶“éå¯¦éš›æ¸¬è©¦ï¼Œç•¶ AJAX è«‹æ±‚å¤±æ•—æ™‚ï¼š

```javascript
$.ajax('/nonexistent-endpoint')
.done(function(data) {
    console.log('done: ä¸æœƒåŸ·è¡Œ'); // AJAX å¤±æ•—æ™‚ä¸åŸ·è¡Œ
})
.fail(function(jqXHR, textStatus, errorThrown) {
    console.log('fail: æœƒåŸ·è¡Œ'); // ç¸½æ˜¯æœƒåŸ·è¡Œ
    // ç„¡è«–é€™è£¡æ˜¯å¦æ‹‹å‡ºéŒ¯èª¤ï¼Œcatch éƒ½æœƒåŸ·è¡Œ
})
.catch(function(error) {
    console.log('catch: ä¹ŸæœƒåŸ·è¡Œ'); // ç¸½æ˜¯æœƒåŸ·è¡Œ
});
```

é‡è¦ç™¼ç¾ï¼šç„¡è«– `fail()` æ˜¯å¦æ‹‹å‡ºéŒ¯èª¤ï¼Œ`catch()` éƒ½æœƒåŸ·è¡Œï¼Œå› ç‚ºåŸå§‹çš„ AJAX éŒ¯èª¤æœƒå‚³æ’­åˆ°æ•´å€‹ Promise éˆã€‚

### éŒ¯èª¤æ¢å¾©çš„æ­£ç¢ºæ–¹å¼

å¦‚æœéœ€è¦å¾éŒ¯èª¤ä¸­æ¢å¾©ï¼Œæ‡‰è©²ä½¿ç”¨èƒ½å¤ æ”¹è®Š Promise ç‹€æ…‹çš„æ–¹æ³•ï¼š

```javascript
// æ–¹å¼ä¸€ï¼šä½¿ç”¨ catch()
$.ajax('/api/data')
.catch(function(error) {
    console.log('è™•ç†éŒ¯èª¤ä¸¦æ¢å¾©');
    return getDefaultData(); // é€™æœƒè®“å¾ŒçºŒçš„ then() åŸ·è¡Œ
})
.then(function(data) {
    console.log('ä½¿ç”¨æ¢å¾©çš„è³‡æ–™:', data);
});

// æ–¹å¼äºŒï¼šä½¿ç”¨ then() çš„éŒ¯èª¤å›èª¿
$.ajax('/api/data')
.then(null, function(error) {
    console.log('è™•ç†éŒ¯èª¤ä¸¦æ¢å¾©');
    return getDefaultData(); // é€™ä¹Ÿæœƒè®“å¾ŒçºŒçš„ then() åŸ·è¡Œ
})
.then(function(data) {
    console.log('ä½¿ç”¨æ¢å¾©çš„è³‡æ–™:', data);
});
```

## ç¬¬ä¸ƒç« ï¼šç‰ˆæœ¬å·®ç•°èˆ‡æœ€ä½³å¯¦è¸

### Portal ç³»çµ±ï¼ˆjQuery 3.3.1ï¼‰çš„å»ºè­°

ç”±æ–¼ä½¿ç”¨è¼ƒæ–°ç‰ˆæœ¬çš„ jQueryï¼Œå»ºè­°å„ªå…ˆä½¿ç”¨ç¾ä»£çš„ Promise æ–¹æ³•ï¼š

```javascript
// æ¨è–¦çš„éŒ¯èª¤è™•ç†æ¨¡å¼
$.ajax({
    url: '/api/users',
    type: 'GET',
    timeout: 5000
})
.then(function(users) {
    return processUsers(users);
})
.catch(function(error) {
    console.error('è«‹æ±‚å¤±æ•—:', error);
    return getDefaultUsers(); // æä¾›é è¨­å€¼
})
.then(function(finalUsers) {
    renderUsers(finalUsers); // ä½¿ç”¨æœ€çµ‚çš„ä½¿ç”¨è€…è³‡æ–™
});

// å¦‚éœ€è©³ç´°éŒ¯èª¤è³‡è¨Šï¼Œå¯ä»¥æ··åˆä½¿ç”¨
$.ajax('/api/data')
.fail(function(jqXHR, textStatus, errorThrown) {
    // è¨˜éŒ„è©³ç´°çš„éŒ¯èª¤è³‡è¨Š
    logError({
        status: jqXHR.status,
        statusText: textStatus,
        error: errorThrown,
        responseText: jqXHR.responseText
    });
})
.catch(function(error) {
    // æä¾›ä½¿ç”¨è€…å‹å–„çš„éŒ¯èª¤è™•ç†
    showUserMessage('è³‡æ–™è¼‰å…¥å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
    return getDefaultData();
});
```

### GTS ç³»çµ±ï¼ˆjQuery 1.10.2ï¼‰çš„å»ºè­°

ç”±æ–¼ä½¿ç”¨è¼ƒèˆŠç‰ˆæœ¬ï¼Œå»ºè­°ä¸»è¦ä½¿ç”¨å‚³çµ±çš„ Deferred æ–¹æ³•ï¼š

```javascript
// å‚³çµ±ä½†ç©©å®šçš„æ¨¡å¼
$.ajax({
    url: '/api/data',
    type: 'POST',
    data: requestData,
    dataType: 'json'
})
.done(function(response, textStatus, jqXHR) {
    if (response.success) {
        processData(response.data);
    } else {
        handleBusinessError(response.message);
    }
})
.fail(function(jqXHR, textStatus, errorThrown) {
    var errorMessage = 'è«‹æ±‚å¤±æ•—: ' + textStatus;
    if (jqXHR.responseJSON && jqXHR.responseJSON.message) {
        errorMessage += ' - ' + jqXHR.responseJSON.message;
    }
    showErrorMessage(errorMessage);
})
.always(function() {
    hideLoadingSpinner();
});
```

## ç¬¬å…«ç« ï¼šå¯¦å‹™é–‹ç™¼å»ºè­°

### çµ±ä¸€çš„éŒ¯èª¤è™•ç†ç­–ç•¥

åœ¨å¯¦éš›é–‹ç™¼ä¸­ï¼Œå»ºè­°å»ºç«‹çµ±ä¸€çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶ï¼š

```javascript
// å»ºç«‹çµ±ä¸€çš„ AJAX å°è£å‡½æ•¸
function makeRequest(options) {
    var defaultOptions = {
        timeout: 10000,
        cache: false
    };
    
    var finalOptions = $.extend({}, defaultOptions, options);
    
    return $.ajax(finalOptions)
    .catch(function(error) {
        // çµ±ä¸€çš„éŒ¯èª¤è¨˜éŒ„
        console.error('AJAX Error:', {
            url: finalOptions.url,
            method: finalOptions.type || 'GET',
            error: error
        });
        
        // æ ¹æ“šéŒ¯èª¤é¡å‹æä¾›ä¸åŒçš„é è¨­å€¼
        if (error.status === 401) {
            redirectToLogin();
            return Promise.reject('æœªæˆæ¬Š');
        } else if (error.status >= 500) {
            showSystemErrorMessage();
            return getEmptyResponse();
        } else {
            showUserErrorMessage('æ“ä½œå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
            return getEmptyResponse();
        }
    });
}

// ä½¿ç”¨å°è£çš„å‡½æ•¸
makeRequest({
    url: '/api/users',
    type: 'GET'
})
.then(function(users) {
    renderUserList(users);
});
```

### åµéŒ¯èˆ‡æ¸¬è©¦å»ºè­°

åœ¨é–‹ç™¼éç¨‹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ä¾†é©—è­‰éŒ¯èª¤è™•ç†é‚è¼¯ï¼š

```javascript
// æ¸¬è©¦ä¸åŒçš„éŒ¯èª¤æƒ…æ³
function testErrorHandling() {
    console.log('é–‹å§‹æ¸¬è©¦éŒ¯èª¤è™•ç†...');
    
    // æ¸¬è©¦ç¶²è·¯éŒ¯èª¤
    $.ajax('/nonexistent-endpoint')
    .fail(function(jqXHR, textStatus, errorThrown) {
        console.log('ç¶²è·¯éŒ¯èª¤ - fail:', textStatus);
    })
    .catch(function(error) {
        console.log('ç¶²è·¯éŒ¯èª¤ - catch:', error);
    });
    
    // æ¸¬è©¦é‚è¼¯éŒ¯èª¤
    $.ajax('/api/data')
    .then(function(data) {
        if (!data.isValid) {
            throw new Error('è³‡æ–™é©—è­‰å¤±æ•—');
        }
        return data;
    })
    .catch(function(error) {
        console.log('é‚è¼¯éŒ¯èª¤:', error.message);
    });
}
```

## ç¸½çµèˆ‡é‡é»å›é¡§

é€™æ¬¡çš„å­¸ç¿’è®“æˆ‘å€‘æ·±å…¥ç†è§£äº† jQuery Deferred èˆ‡ Promise çš„å·®ç•°ï¼Œç‰¹åˆ¥æ˜¯ä»¥ä¸‹å¹¾å€‹é—œéµé»ï¼š

**ç¬¬ä¸€å€‹é‡é»**æ˜¯ `fail()` æ–¹æ³•ç„¡æ³•é€éå›å‚³å€¼ä¾†æ”¹è®Š Promise éˆçš„ç‹€æ…‹ã€‚é€™èˆ‡åŸç”Ÿ Promise çš„ `catch()` æ–¹æ³•å½¢æˆé®®æ˜å°æ¯”ï¼Œæ˜¯å¯¦å‹™é–‹ç™¼ä¸­éœ€è¦ç‰¹åˆ¥æ³¨æ„çš„åœ°æ–¹ã€‚

**ç¬¬äºŒå€‹é‡é»**æ˜¯ `then()` æ–¹æ³•æœƒè‡ªå‹•è§£æ Promise ç‰©ä»¶ï¼Œè€Œ `done()` æ–¹æ³•å‰‡æ˜¯ç›´æ¥å‚³éå›å‚³å€¼ã€‚é€™å€‹å·®ç•°å½±éŸ¿äº†æˆ‘å€‘åœ¨éˆå¼å‘¼å«ä¸­è™•ç†è³‡æ–™çš„æ–¹å¼ã€‚

**ç¬¬ä¸‰å€‹é‡é»**æ˜¯åœ¨éŒ¯èª¤æ¢å¾©ç­–ç•¥ä¸Šï¼Œæ‡‰è©²ä½¿ç”¨ `catch()` æ–¹æ³•æˆ– `then()` çš„éŒ¯èª¤å›èª¿ï¼Œè€Œä¸æ˜¯ä¾è³´ `fail()` çš„å›å‚³å€¼ã€‚

åœ¨è¯ç¢©çš„å…©å€‹ç³»çµ±é–‹ç™¼ä¸­ï¼ŒPortal ç³»çµ±å¯ä»¥å……åˆ†åˆ©ç”¨ç¾ä»£ Promise çš„ç‰¹æ€§ï¼Œè€Œ GTS ç³»çµ±å‰‡éœ€è¦æ›´å¤šåœ°ä¾è³´å‚³çµ±çš„ Deferred æ–¹æ³•ã€‚ç„¡è«–ä½¿ç”¨å“ªç¨®æ–¹å¼ï¼Œé‡è¦çš„æ˜¯ä¿æŒç¨‹å¼ç¢¼çš„ä¸€è‡´æ€§å’Œå¯è®€æ€§ï¼Œä¸¦å»ºç«‹å®Œå–„çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶ä¾†ç¢ºä¿æ‡‰ç”¨ç¨‹å¼çš„ç©©å®šæ€§ã€‚